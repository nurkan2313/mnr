!function(){"use strict";var e=document.querySelectorAll(".needs-validation"),t=10,a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate());if($("#duedate-input").datepicker("setDate",r),document.querySelector("#project-image-input").addEventListener("change",(function(){var e=document.querySelector("#projectlogo-img"),t=document.querySelector("#project-image-input").files[0],a=new FileReader;a.addEventListener("load",(function(){e.src=a.result}),!1),t&&a.readAsDataURL(t)})),o=sessionStorage.getItem("editInputValue")){var o=JSON.parse(o);document.getElementById("formAction").value="edit",document.getElementById("project-id-input").value=o.id,document.getElementById("projectlogo-img").src=o.projectLogoImg,document.getElementById("projectname-input").value=o.projectTitle,document.getElementById("projectdesc-input").value=o.projectDesc,document.getElementById("project-status-input").value=o.status,$("#duedate-input").datepicker("setDate",o.dueDate),Array.from(document.querySelectorAll("#select-element .dropdown-menu ul li a")).forEach((function(e){var t=e.querySelector(".flex-grow-1").innerHTML;o.assignedto.map((function(a){if(a.assigneeName==t){e.classList.add("active");var r=document.getElementById("assignee-member");if(e.classList.contains("active")){var o='<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+a.assigneeImg+'"  data-bs-toggle="tooltip" data-bs-placement="top" title="'+a.assigneeName+'">                        <img src="'+a.assigneeImg+'" alt="" class="rounded-circle avatar-xs" />                        </a>';r.insertAdjacentHTML("beforeend",o)}}return e}))}));var n=document.querySelectorAll("#select-element .dropdown-menu .dropdown-item.active").length;document.getElementById("total-assignee").innerHTML=n}Array.prototype.slice.call(e).forEach((function(e){e.addEventListener("submit",(function(a){if(e.checkValidity()){a.preventDefault();var r=++t,o=document.getElementById("projectname-input").value,n=document.getElementById("projectdesc-input").value,i=document.getElementById("projectlogo-img").src,s=document.getElementById("project-status-input").value,l=document.getElementById("duedate-input").value,c=[],u=document.querySelectorAll("#select-element .assignto-list li a.active");u.length>0&&Array.from(u).forEach((function(e){var t=e.querySelector(".avatar-xs img").getAttribute("src"),a=e.querySelector(".flex-grow-1").innerHTML,r={};r.assigneeName=a,r.assigneeImg=t,c.push(r)}));var d=document.getElementById("formAction").value;if("add"==d)if(null!=sessionStorage.getItem("inputValue")){var m=JSON.parse(sessionStorage.getItem("inputValue")),g={id:r+1,projectLogoImg:i,projectTitle:o,projectDesc:n,dueDate:l,status:s,assignedto:c};m.push(g),sessionStorage.setItem("inputValue",JSON.stringify(m))}else{(m=[]).push(g={id:r,projectLogoImg:i,projectTitle:o,projectDesc:n,dueDate:l,status:s,assignedto:c}),sessionStorage.setItem("inputValue",JSON.stringify(m))}else if("edit"==d){var p=document.getElementById("project-id-input").value;if(sessionStorage.getItem("editInputValue")){var v={id:parseInt(p),projectLogoImg:i,projectTitle:o,projectDesc:n,dueDate:l,status:s,assignedto:c};sessionStorage.setItem("editInputValue",JSON.stringify(v))}}else console.log("Form Action Not Found.");return window.location.replace("projects-list.html"),!1}a.preventDefault(),a.stopPropagation(),e.classList.add("was-validated")}),!1)})),Dropzone.autoDiscover=!1;new Dropzone("div#myId",{url:"https://httpbin.org/post"});Array.from(document.querySelectorAll("#select-element .assignto-list li a")).forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("active");var t=document.querySelectorAll("#select-element .assignto-list li a.active");document.getElementById("total-assignee").innerHTML=t.length;var a,r=e.querySelector(".avatar-xs img").getAttribute("src"),o=document.getElementById("assignee-member");if(e.classList.contains("active")){var n=e.querySelector(".flex-grow-1").innerHTML,i='<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+r+'"  data-bs-toggle="tooltip" data-bs-placement="top" title="'+n+'">                <img src="'+r+'" alt="" class="rounded-circle avatar-xs" />                </a>';o.insertAdjacentHTML("beforeend",i)}else Array.from(o.querySelectorAll(".avatar-group-item")).forEach((function(e){var t=e.getAttribute("data-img");r==t&&e.remove()}));a=document.querySelectorAll('[data-bs-toggle="tooltip"]'),[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a)).map((function(e){return new bootstrap.Tooltip(e)}))}))}))}();